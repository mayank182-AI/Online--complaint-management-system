<!DOCTYPE html>
<html>
<head>
<title>Smart Complaint System</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body{margin:0;font-family:Segoe UI;background:linear-gradient(120deg,#89f7fe,#66a6ff)}
header{background:#0d47a1;color:#fff;padding:15px;text-align:center;font-size:26px}
container{display:flex}
sidebar{width:230px;background:#1a237e;color:#fff;height:100vh;padding:20px}
menu div{padding:12px;margin:10px 0;background:#283593;border-radius:6px;cursor:pointer}
menu div:hover{background:#3949ab}
main{flex:1;padding:20px}
cards{display:flex;gap:20px;margin-bottom:20px}
card{flex:1;padding:20px;border-radius:12px;color:#fff;box-shadow:0 4px 10px gray}
total{background:#673ab7}.pending{background:#e53935}.resolved{background:#43a047}
form{background:#fff;padding:20px;border-radius:10px;box-shadow:0 2px 8px gray;margin-bottom:20px}
input,select,textarea{width:100%;padding:10px;margin-top:10px;border-radius:6px;border:1px solid #ccc}
button{background:#0d47a1;color:#fff;padding:10px;border:none;width:100%;margin-top:10px;border-radius:6px;cursor:pointer}
button:hover{background:#1565c0}
search{width:300px;padding:10px;border-radius:6px;border:none;margin-bottom:20px}
complaints{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px}
box{background:#fff;padding:15px;border-radius:12px;box-shadow:0 3px 8px gray}
status{padding:5px 10px;border-radius:10px;color:#fff}
red{background:red}.green{background:green}
footer{text-align:center;padding:10px;background:#0d47a1;color:#fff}
</style>
</head>

<body>

<header>SMART COMPLAINT MANAGEMENT SYSTEM</header>

<div class="container">

<div class="sidebar">
<h2>Dashboard</h2>
<div class="menu">
<div>üè† Home</div>
<div>üìù New Complaint</div>
<div>üìã Complaint List</div>
</div>
</div>

<div class="main">

<div class="cards">
<div class="card total">Total<h1 id="total">0</h1></div>
<div class="card pending">Pending<h1 id="pending">0</h1></div>
<div class="card resolved">Resolved<h1 id="resolved">0</h1></div>
</div>

<div class="form">
<h3>Register Complaint</h3>
<input id="name" placeholder="Name">
<input id="title" placeholder="Title">
<select id="category">
<option>Electricity</option>
<option>Internet</option>
<option>Water</option>
<option>Road</option>
</select>
<textarea id="desc" placeholder="Description"></textarea>
<button onclick="add()">Submit</button>
</div>

<input class="search" id="search" placeholder="Search..." onkeyup="search()">

<div class="complaints" id="complaints"></div>

</div>
</div>

<div class="footer">2026 Complaint System</div>

<script>

let d=JSON.parse(localStorage.getItem("data"))||[];
show();

function add(){
d.push({id:"CMP"+Math.floor(Math.random()*9999),
name:name.value,title:title.value,
category:category.value,desc:desc.value,status:"Pending"});
localStorage.setItem("data",JSON.stringify(d));
show();alert("Complaint Added");
}

function show(){
let t="",p=0,r=0;
d.forEach(c=>{
c.status=="Pending"?p++:r++;
t+=`<div class=box>
<small>${c.id}</small>
<h3>${c.title}</h3>
<p>${c.desc}</p>
<b>${c.category}</b><br><br>
<span class="status ${c.status=="Pending"?"red":"green"}">${c.status}</span>
<br><br>
<button onclick="done('${c.id}')">Resolve</button>
<button onclick="del('${c.id}')">Delete</button>
</div>`;
});
complaints.innerHTML=t;
total.innerHTML=d.length;
pending.innerHTML=p;
resolved.innerHTML=r;
}

function done(id){
d.forEach(c=>c.id==id&&(c.status="Resolved"));
localStorage.setItem("data",JSON.stringify(d));
show();
}

function del(id){
d=d.filter(c=>c.id!=id);
localStorage.setItem("data",JSON.stringify(d));
show();
}

function search(){
let k=search.value.toLowerCase();
complaints.innerHTML=d.filter(c=>c.title.toLowerCase().includes(k))
.map(c=>`<div class=box>
<small>${c.id}</small>
<h3>${c.title}</h3>
<p>${c.desc}</p>
<span class=status>${c.status}</span>
</div>`).join("");
}

</script>

</body>
</html>
